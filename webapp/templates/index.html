
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <!-- <link rel="icon" href="../../favicon.ico"> -->

  <title>DSSG Prediction model</title>

  <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/3.15/themes/css/cartodb.css"/>


  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

  <!-- Custom styles for this template -->
  <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">

  <link href="{{ url_for('static', filename='typeaheadjs.css') }}" rel="stylesheet">


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    </head>

    <body>


      <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">DSSG Infonavit prediction model</a>
          </div>
        </div>
      </nav>

      <div class="container">

        <div class="starter-template">


          <div class="row">
            <div class="col-md-4 col-md-offset-8">
              <img class="pull-right" src="{{ url_for('static', filename='dssg_logo.png') }}" width="30%">
              <img class="pull-right" src="{{ url_for('static', filename='infonavit_logo.png') }}" width="25%">
            </div>
          </div>

          <div class="row">
            <div class="col-md-12">
              <div id="alert" style="display: none;">
                <div class="alert alert-danger" role="alert"
                id="alert-div">
                <strong>Error. </strong> <span id="alert-div-text"></span>
              </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4">

              <h2>Input</h2>

              <div class="panel panel-default">
                <div class="panel-body">

                  <form action="/" method="POST" id="prediction_form">

                    <div id="remote" class="form-group">
                      <label for="colonia_name" class="pull-left">Colonia name</label>
                      <input name="colonia_name" id="colonia_name" class="typeahead form-control" type="text" placeholder="San Lorenzo Huipulco">
                    </div>

                    <div class="form-group">
                      <label for="personal_age" class="pull-left">Age</label>
                      <input name="personal_age" type="text" class="form-control" id="personal_age" placeholder="28">
                    </div>
                    <div class="form-group">
                      <label for="personal_risk_index" class="pull-left">Risk index</label>
                      <input name="personal_risk_index" type="text" class="form-control" id="personal_risk_index" placeholder="1500">
                    </div>

                    <div class="form-group">
                      <label for="personal_daily_wage" class="pull-left">Daily wage</label>
                      <input name="personal_daily_wage" type="text" class="form-control" id="personal_daily_wage" placeholder="76.50">
                    </div>

                    <button type="submit" class="btn btn-primary btn-lg btn-block">Predict</button>
                  </form>

                </div>
              </div>


            </div>
            <div class="col-md-8">
              <h2>Prediction</h2>        

              <h4 id="subtitle"></h4>

              <div id="map"></div>

              <h4>Probability of abandonment</h4>
              <div class="progress">
               <div id="pred-bar" class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                <span id="prediction"></span>
              </div>
            </div>


            <h4>Colonia values:</h4>

            <span id="db_data"></span></p>

            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Factor</th>
                </tr>
              </thead>
              <tbody id="table_body">

              </tbody>
            </table>

          </div>
        </div>

      </div>



    </div><!-- /.container -->



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="http://libs.cartocdn.com/cartodb.js/v3/3.15/cartodb.js"></script>


    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="{{ url_for('static', filename='form_handler.js') }}"></script>
    <script src="{{ url_for('static', filename='map_handler.js') }}"></script>
    <script src="{{ url_for('static', filename='typeahead.bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='autocomplete_handler.js') }}"></script>

  </body>
  </html>
